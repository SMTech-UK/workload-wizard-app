    # ✅ **Tomorrow’s Task List: Core Foundations Sprint**
    
    ## 🎯 **Goal by EOD**
    
    > Have full user/role/permission management complete for both sysadmin and orgadmin, including UI polish and audit support — ready to build workload functionality on top.
    
    ---
    
******** CONFIRM VALID BUILD


    ## 🔐 1. User Profile & Onboarding (User-side polish)
    
    ### 🔧 `/profile` or `/account`
    
    * [ ] Implement **user profile management page**
    
      * Show name, email, current role(s)
      * [ ] Allow password update (Clerk)
      * [ ] Optionally update profile picture, job title, etc.
    
    ### 🛬 Onboarding Logic
    
    * [ ] Detect `publicMetadata.onboarded === false`
    * [ ] Redirect to onboarding wizard after first login
    * [ ] Wizard can:
    
      * Confirm name, role, org
      * Change password
    * [ ] Set `publicMetadata.onboarded = true` after
    
    ---
    
    ## 🛠️ 2. System Admin Polishing
    
    ### 🧑‍💼 User Management
    
    * [ ] Fix **reset password**
    * [ ] Fix **table filters** (by org, role, status)
    * [ ] Add **login-as functionality** from env (already started?)
    
    ### 🧠 Role Interface
    
    * [ ] Add **role assignment UI** to sysadmin user table
    * [ ] Support **bulk role assignment**
    * [ ] Log changes in audit log (`role.assigned`, `role.removed`)
    
    ---
    
    ## 🧑‍🏫 3. Org Admin Tools
    
    ### 👥 Organisation User Management
    
    * [ ] Fix **reset password**
    * [ ] Show user roles + ability to update via dropdown
    * [ ] Support multiple roles per user if future-proofing
    
    ---
    
    ## 📒 4. Role & Permission UX
    
    * [ ] Audit logging: `role.assigned`, `role.removed`, `role.edited`
    * [ ] Permission visual labels: 📎 = default, ✏️ = custom
    * [ ] Add hover tooltips to explain role-permission source
    * [ ] Add warning/guardrails if sysadmin tries to edit org-managed role
    
    ---
    
    ## 🧪 5. Test Coverage / Dev Enhancements (if time)
    
    * [ ] Write test script that:
    
      * Seeds an org with roles
      * Assigns roles to users
      * Fetches user + permission matrix
    * [ ] Add test util: `createTestUserWithRole()`
    
    ---
    
    ## 📦 Prep for Next Sprint
    
    Start planning following once above is complete:
    
    * Staff schema + input forms (lecturer FT/PT/bank + contract hours)
    * Module setup: create module, assign to staff
    * Visual timetable / calendar prototype
    * MVP workload calculator (staff view)
    
    ---
    
    ## 📁 Optional (Stretch Goals)
    
    * [ ] Create `/help` route with dummy docs and onboarding info
    * [ ] Clerk: add metadata validator in dev (e.g. role/orgId checker)
    * [ ] Dark mode toggle
    
    ---

- Forgotten Password logic so it works without needing code or implement code UI 
- Change password logic in onboarding
- Handle change in name, email in onboarding

- [ ] User profile management page (change password etc.)
- [ ] User onboarding flow (first time login)
- System Admin User Management (reset password) //TODO: Fix this   
- System Admin User Management (table filters) //TODO: Fix this
- Organisation Admin User Management (reset password) //TODO: Fix this
- User → Role assignment interface
- Bulk role assignment
- Role assignment history/audit


## Current Functions

- User management: users.edit, users.invite
- Staff management: staff.create, staff.edit
- System permissions: All CRUD operations on permissions/roles

- Login
- System Admin Dashboard
- System Admin User Management
- System Admin User Management (change email) // Working 06/08     
- System Admin User Management (delete user) // Working 06/08
- System Admin User Management (create user) // Working 06/08
- System Admin User Management (update username) // Working 06/08
- System Admin User Management (update system role) // Working 06/08
- System Admin User Management (update org) // Working 06/08
- System Admin User Management (last login date) // Working 06/08

- System Admin Org Management
- System Admin Org Management (create org) //Working 06/08
- System Admin Org Management (delete org) //Working 06/08
- System Admin Org Management (edit org) //Working 06/08

- Audit Logs

- Organisation Admin Dashboard
- Organisation Admin User Management
- Organisation Admin User Management (deactivate user) //Working 06/08
- Organisation Admin User Management (reactivate user) //Working 06/08
- Organisation Admin User Management (create user) //Working 06/08
- Organisation Admin User Management (update system role [limited]) //Working 06/08
- Organisation Admin User Management (change email) //Working 06/08
- Organisation Admin User Management (delete user) //Working 06/08
- Organisation Admin User Management (update username) //Working 06/08
